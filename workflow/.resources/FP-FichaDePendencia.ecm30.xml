<list>
  <ProcessDefinition>
    <processDefinitionPK>
      <companyId>1</companyId>
      <processId>FP-FichaDePendencia</processId>
    </processDefinitionPK>
    <processDescription>FP - Ficha de Pendencia</processDescription>
    <instruction></instruction>
    <active>true</active>
    <publicProcess>true</publicProcess>
    <volumeId>Default</volumeId>
    <categoryId>Assistência Técnica</categoryId>
    <managerEngineAllocationId></managerEngineAllocationId>
    <snapshotFrequency>0</snapshotFrequency>
    <baseDay>0</baseDay>
    <baseMonth>0</baseMonth>
    <periodId>Default</periodId>
    <uniqueCardVersion>true</uniqueCardVersion>
    <keyWord></keyWord>
    <complementsLevel>0</complementsLevel>
    <notifyRequisitionerComplements>false</notifyRequisitionerComplements>
    <notifyManagerComplements>false</notifyManagerComplements>
    <notifyAuthorityComplements>false</notifyAuthorityComplements>
  </ProcessDefinition>
  <ProcessDefinitionVersion>
    <processDefinitionVersionPK>
      <companyId>1</companyId>
      <processId>FP - Ficha de Pendencia</processId>
      <version>6</version>
    </processDefinitionVersionPK>
    <versionDescription></versionDescription>
    <formId>1386</formId>
    <editionMode>true</editionMode>
    <updateAttachmentsVersion>false</updateAttachmentsVersion>
    <controlsAttachmentsSecurity>false</controlsAttachmentsSecurity>
    <active>true</active>
    <blockedVersion>false</blockedVersion>
    <counterSign>false</counterSign>
    <openInstances>0</openInstances>
    <bpmnVersion>2</bpmnVersion>
    <processStates/>
    <favorito>false</favorito>
    <inheritFormSecurity>false</inheritFormSecurity>
    <mobileReady>false</mobileReady>
  </ProcessDefinitionVersion>
  <list>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <sequence>1</sequence>
      </processStatePK>
      <stateName>Emissão</stateName>
      <stateDescription>Emissão</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Papel</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;Role&gt;ATE&lt;/Role&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>true</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>false</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>40</positionX>
      <positionY>78</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>10</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <sequence>8</sequence>
      </processStatePK>
      <stateName>Retorno do Material</stateName>
      <stateDescription>Retorno do Material</stateDescription>
      <instruction></instruction>
      <deadlineTime>28800</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Executor Atividade</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;BaseActivity&gt;1&lt;/BaseActivity&gt;&lt;Returns&gt;Last&lt;/Returns&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>160</positionX>
      <positionY>180</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <sequence>14</sequence>
      </processStatePK>
      <stateName>Follow UP</stateName>
      <stateDescription>Follow UP</stateDescription>
      <instruction></instruction>
      <deadlineTime>144000</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Executor Atividade</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;BaseActivity&gt;1&lt;/BaseActivity&gt;&lt;Returns&gt;Last&lt;/Returns&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>160</positionX>
      <positionY>67</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <sequence>15</sequence>
      </processStatePK>
      <stateName>Emitir Nota Fical e Envio</stateName>
      <stateDescription>Emitir Nota Fical e Envio</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Executor Atividade</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;BaseActivity&gt;14&lt;/BaseActivity&gt;&lt;Returns&gt;Last&lt;/Returns&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>330</positionX>
      <positionY>180</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <sequence>9</sequence>
      </processStatePK>
      <stateName>Intermediário</stateName>
      <stateDescription>Intermediário</stateDescription>
      <instruction>Evento intermediário do processo</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>1</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>40</positionX>
      <positionY>197</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>35</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <parentSequence>0</parentSequence>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <sequence>24</sequence>
      </processStatePK>
      <stateName>Orçamento Aprovado?</stateName>
      <stateDescription>Orçamento Aprovado?</stateDescription>
      <joint>false</joint>
      <initialState>false</initialState>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <automatic>true</automatic>
      <positionX>353</positionX>
      <positionY>45</positionY>
      <inhibitTransfer>false</inhibitTransfer>
      <stateType>1</stateType>
      <bpmnType>120</bpmnType>
      <signalId>0</signalId>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <sequence>7</sequence>
      </processStatePK>
      <stateName>Fim</stateName>
      <stateDescription>Fim</stateDescription>
      <instruction>Atividade final do processo</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>0</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>false</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>510</positionX>
      <positionY>197</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>60</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
  </list>
  <list>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <expressionOrder>1</expressionOrder>
        <version>6</version>
        <sequence>24</sequence>
      </conditionProcessStatePK>
      <condition>(hAPI.getCardValue(&quot;orc_aprovado&quot;) == &quot;sim&quot;)</condition>
      <destinationSequenceId>15</destinationSequenceId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;BaseActivity&gt;14&lt;/BaseActivity&gt;&lt;Returns&gt;Last&lt;/Returns&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <engineAllocationId>Executor Atividade</engineAllocationId>
    </ConditionProcessState>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <expressionOrder>2</expressionOrder>
        <version>6</version>
        <sequence>24</sequence>
      </conditionProcessStatePK>
      <condition>(hAPI.getCardValue(&quot;orc_aprovado&quot;) == &quot;nao&quot;)</condition>
      <destinationSequenceId>7</destinationSequenceId>
    </ConditionProcessState>
  </list>
  <list>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <linkSequence>10</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>1</initialStateSequence>
      <finalStateSequence>9</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <linkSequence>11</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>9</initialStateSequence>
      <finalStateSequence>8</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <linkSequence>25</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>14</initialStateSequence>
      <finalStateSequence>24</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <linkSequence>26</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>24</initialStateSequence>
      <finalStateSequence>15</finalStateSequence>
      <returnLabel></returnLabel>
      <name>Sim</name>
      <automaticLink>false</automaticLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <linkSequence>27</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>24</initialStateSequence>
      <finalStateSequence>7</finalStateSequence>
      <returnLabel></returnLabel>
      <name>Não</name>
      <automaticLink>false</automaticLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <linkSequence>28</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>8</initialStateSequence>
      <finalStateSequence>14</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <linkSequence>29</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>15</initialStateSequence>
      <finalStateSequence>7</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <type>0</type>
    </ProcessLink>
  </list>
  <list/>
  <list>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>afterStateEntry</eventId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function afterStateEntry(sequenceId){&#xd;
 	&#xd;
 //log.warn(&quot;Entrei-------------------&quot; + sequenceId);&#xd;
 &#xd;
 &#xd;
 	var process = getValue(&quot;WKNumProces&quot;);&#xd;
 	&#xd;
 	var resposta;&#xd;
 	var row;&#xd;
 &#xd;
 	var cardData = new java.util.HashMap();&#xd;
 	cardData = hAPI.getCardData(process);&#xd;
 	var keys = cardData.keySet().toArray();&#xd;
 	&#xd;
 	if (sequenceId == 9) {&#xd;
 		hAPI.setCardValue(&quot;num_processo&quot;, process);&#xd;
 			&#xd;
 		var cardData = new java.util.HashMap();&#xd;
 		cardData = hAPI.getCardData(process);&#xd;
 		&#xd;
 		var keys = cardData.keySet().toArray();&#xd;
 		for ( var key in keys) {&#xd;
 			var field = keys[key];&#xd;
 			if (field.indexOf(&quot;nr_item___&quot;) &gt; -1) {&#xd;
 				&#xd;
 				row = field.replace(&quot;nr_item___&quot;, &quot;&quot;);&#xd;
 				&#xd;
 				if (hAPI.getCardValue(&quot;fluxo_fp___&quot; + row) == &quot;&quot;){	&#xd;
 					hAPI.setCardValue(&quot;nr_item___&quot; + row, process + hAPI.getCardValue(&quot;nr_item___&quot; + row));&#xd;
 					&#xd;
 					&#xd;
 					var userList = new java.util.ArrayList();&#xd;
 					userList.add(hAPI.getCardValue(&quot;mat_fp___&quot; + row));&#xd;
 					&#xd;
 					var hpForm = new java.util.HashMap();						&#xd;
 					hpForm.put(&quot;process_pai&quot;, &quot;&quot; + process);&#xd;
 					hpForm.put(&quot;fp_pai&quot;, &quot;&quot; + hAPI.getCardValue(&quot;nr_item___&quot; + row));&#xd;
 					hpForm.put(&quot;data_pai&quot;, &quot;&quot; + hAPI.getCardValue(&quot;data_sol&quot;));&#xd;
 					hpForm.put(&quot;cliente&quot;, &quot;&quot; + hAPI.getCardValue(&quot;cliente&quot;));&#xd;
 					hpForm.put(&quot;desc_mat&quot;, &quot;&quot; + hAPI.getCardValue(&quot;desc_mat___&quot; + row));&#xd;
 					hpForm.put(&quot;it_nr_serie&quot;, &quot;&quot; + hAPI.getCardValue(&quot;it_nr_serie___&quot; + row));&#xd;
 					hpForm.put(&quot;def_inf&quot;, &quot;&quot; + hAPI.getCardValue(&quot;def_inf___&quot; + row));&#xd;
 					hpForm.put(&quot;matricula_emissor&quot;, &quot;&quot; + hAPI.getCardValue(&quot;mat_fp___&quot; + row));&#xd;
 					&#xd;
 					resposta = hAPI.startProcess(&quot;FP-subprocesso&quot;, 0, userList, hAPI.getCardValue(&quot;nr_item___&quot; + row), true, hpForm, false);&#xd;
 					hAPI.setCardValue(&quot;fluxo_fp___&quot; + row, resposta.get(&quot;iProcess&quot;));&#xd;
 					hAPI.setCardValue(&quot;status_fp___&quot; + row,&quot;Iniciado&quot;);&#xd;
 				}					&#xd;
 			}&#xd;
 		}	&#xd;
 	}&#xd;
 	&#xd;
 	&#xd;
 		&#xd;
 }</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>intermediateconditional9</eventId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function intermediateconditional9() {
 	
 	var process = getValue(&quot;WKNumProces&quot;);
 	
 	//log.warn(&quot;----------------------STATUS DE PROCESSOS-------------------------------&quot;)
 	//log.warn(&quot;----------------------numProcesso: &quot; + process);
 	
 
 	var status = true;
 	
 	var cardData = new java.util.HashMap();
 	cardData = hAPI.getCardData(process);
 	var keys = cardData.keySet().toArray();
 	log.warn(&quot;Verificando status dos subprocessos do processo: &quot; + process);
 	for ( var key in keys) {
 		var field = keys[key];
 		if (field.indexOf(&quot;nr_item___&quot;) &gt; -1) {
 
 			var row = field.replace(&quot;nr_item___&quot;, &quot;&quot;);
 			var processo = hAPI.getCardValue(&quot;fluxo_fp___&quot; + row);				
 
 			var c1 = DatasetFactory.createConstraint(&quot;processTaskPK.processInstanceId&quot;, processo, processo, ConstraintType.MUST);
 			var c2 = DatasetFactory.createConstraint(&quot;processTaskPK.companyId&quot;, getValue(&quot;WKCompany&quot;), getValue(&quot;WKCompany&quot;), ConstraintType.MUST);
 			var constraints = new Array(c1, c2);
 			
 			var sortingFields = new Array(&quot;processTaskPK.movementSequence&quot;);
 			
 			var datasetPrincipal = DatasetFactory.getDataset(&quot;processTask&quot;, null, constraints, sortingFields);
 			
 			var i = datasetPrincipal.rowsCount - 1;
 			
 			if (datasetPrincipal.getValue(i, &quot;active&quot;) == true){				
 				var childCardData = hAPI.getCardData(processo);
 				hAPI.setCardValue(&quot;status_fp___&quot; + row, &quot;Em andamento&quot;);
 				status = false;
 				
 			} else if(datasetPrincipal.getValue(i, &quot;status&quot;) == 4){
 				hAPI.setCardValue(&quot;status_fp___&quot; + row, &quot;Cancelado&quot;);
 				log.warn(&quot;O Processo &quot; + processo + &quot; foi cancelado&quot;);				
 			} else {				
 				var cardDataFilho = hAPI.getCardData(processo);
 				
 				hAPI.setCardValue(&quot;vl_conserto___&quot; + row, cardDataFilho.get(&quot;vl_conserto&quot;));
 				hAPI.setCardValue(&quot;def_inf___&quot; + row, cardDataFilho.get(&quot;def_inf&quot;));
 				hAPI.setCardValue(&quot;def_const___&quot; + row, cardDataFilho.get(&quot;def_const&quot;));
 				hAPI.setCardValue(&quot;serv_envio___&quot; + row, cardDataFilho.get(&quot;serv_envio&quot;));
 				hAPI.setCardValue(&quot;status_fp___&quot; + row, datasetPrincipal.getValue(i, &quot;taskCompletionDate&quot;));
 				log.warn(&quot;O Processo &quot; + processo + &quot; foi concluído&quot;);										
 			}				
 		}
 	}	
 	
 	return status;
 
 }</eventDescription>
    </WorkflowProcessEvent>
  </list>
  <list/>
  <list/>
  <list>
    <ProcessComponGraf>
      <componType>1</componType>
      <positionX>5</positionX>
      <positionY>250</positionY>
      <processComponGrafPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <componGrafSequence>22</componGrafSequence>
      </processComponGrafPK>
      <stateName>Aguardar preechimento das FPs</stateName>
    </ProcessComponGraf>
  </list>
  <list>
    <ProcessLinkAssoc>
      <processLinkAssocPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>1</version>
        <linkSequence>23</linkSequence>
      </processLinkAssocPK>
      <initialStateSequence>22</initialStateSequence>
      <finalStateSequence>9</finalStateSequence>
    </ProcessLinkAssoc>
  </list>
  <list>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>6</version>
        <linkSequence>27</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>527</positionX>
      <positionY>95</positionY>
    </ProcessLinkBend>
  </list>
  <list>
    <ProcessStateTrigger>
      <processStateTriggerPK>
        <companyId>1</companyId>
        <processId>FP-FichaDePendencia</processId>
        <version>6</version>
        <stateSequence>9</stateSequence>
        <triggerSequence>0</triggerSequence>
      </processStateTriggerPK>
      <runType>1</runType>
      <type>3</type>
      <value>FP-FichaDePendencia.intermediateconditional9.js</value>
      <timeTrigger>0:0:0</timeTrigger>
      <frequencia>04</frequencia>
    </ProcessStateTrigger>
  </list>
  <list/>
  <list/>
  <list/>
  <list/>
</list>